@model CPSeed.Models.Product
@{
    ViewBag.Title = Model.Name;
    var productCanLikes = (List<CPSeed.Models.Product>)ViewBag.ProductCanLikes;
    var productTags = (List<CPSeed.Models.ProductTag>)ViewBag.Tags;
    var productViewers = (List<CPSeed.Models.ProductViewer>)ViewBag.ProductViewers;
}

<section class="section-topbar border-top padding-y-sm">
    <div class="container">
        <span>Hãng sản xuất: @Model.Manufacturer</span> &nbsp  <span class="text-warning"> @Model.Warranty bảo hành</span>
        @*<div class="float-right dropdown">
                <a href="~/Assets/" class="dropdown-toggle" data-toggle="dropdown">English</a>
                <div class="dropdown-menu dropdown-menu-right">
                    <a class="dropdown-item" href="~/Assets/#">Russian </a>
                    <a class="dropdown-item" href="~/Assets/#">Arabic </a>
                </div>
            </div>*@
    </div>
</section>

<section class="section-content bg padding-y-sm">
    <div class="container">
        <nav class="mb-3">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="~/">Trang chủ</a></li>
                <li class="breadcrumb-item"><a href="~/Product">Sản phẩm</a></li>
                <li class="breadcrumb-item active" aria-current="page">@Model.Name</li>
            </ol>
        </nav>
        <div class="row">
            <div class="col-xl-10 col-md-9 col-sm-12">
                <main class="card">
                    <div class="row no-gutters">
                        <aside class="col-sm-6 border-right">
                            <article class="gallery-wrap">
                                <div class="img-big-wrap">
                                    <div>
                                        <a href="@Model.Thumnail" data-fancybox="@Model.Id">
                                            <img src="@Model.Thumnail">
                                        </a>
                                    </div>
                                </div>
                                <div class="img-small-wrap">
                                    @foreach (var item in Model.ProductImages) {
                                        <div class="item-gallery">
                                            <a href="@item.Link" data-fancybox="@Model.Id"><img style="width:100%;height:100%" src="@item.Link"></a>
                                        </div>
                                    }
                                </div>
                            </article>
                        </aside>
                        <aside class="col-sm-6">
                            <article class="card-body">
                                <h3 class="title mb-3">@Model.Name</h3>

                                <div class="mb-3">
                                    <var class="price h3 text-warning">
                                        <span class="currency"></span><span class="num">@Model.Price.ToString("N0") đ</span>
                                    </var>
                                </div>
                                <dl>
                                    <dt>Mô tả ngắn</dt>
                                    <dd>
                                        <p>
                                            @Html.Raw(Model.Description)
                                        </p>
                                    </dd>
                                </dl>
                                <dl class="row">
                                    <dt class="col-sm-3">Mã sản phẩm</dt>
                                    <dd class="col-sm-9">@Model.SKU</dd>

                                    <dt class="col-sm-3">Màu sắc</dt>
                                    <dd class="col-sm-9">@Model.Color</dd>

                                    <dt class="col-sm-3">Giao hàng</dt>
                                    <dd class="col-sm-9">@Model.Delivery</dd>
                                </dl>
                                <div class="rating-wrap">

                                    <ul class="rating-stars">
                                        <li style="width:80%" class="stars-active">
                                            <i class="fa fa-star"></i> <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i> <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                        </li>
                                        <li>
                                            <i class="fa fa-star"></i> <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i> <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                        </li>
                                    </ul>
                                    <div class="label-rating">132 đánh giá</div>
                                    <div class="label-rating">154 người đặt hàng </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-5">
                                        <dl class="dlist-inline">
                                            <dt>Số lượng: </dt>
                                            <dd>
                                                @Model.Quantity.ToString("N0")
                                                @*<select class="form-control form-control-sm" style="width:70px;">
                                                        <option> 1 </option>
                                                        <option> 2 </option>
                                                        <option> 3 </option>
                                                    </select>*@
                                            </dd>
                                        </dl>
                                    </div>
                                    <div class="col-sm-7">
                                        <dl class="dlist-inline">
                                            <dt>Kích cỡ: </dt>
                                            <dd>
                                                @Model.Size
                                                @*<label class="form-check form-check-inline">
                                                        <input class="form-check-input" name="inlineRadioOptions" id="inlineRadio2" value="option2" type="radio">
                                                        <span class="form-check-label">SM</span>
                                                    </label>
                                                    <label class="form-check form-check-inline">
                                                        <input class="form-check-input" name="inlineRadioOptions" id="inlineRadio2" value="option2" type="radio">
                                                        <span class="form-check-label">MD</span>
                                                    </label>
                                                    <label class="form-check form-check-inline">
                                                        <input class="form-check-input" name="inlineRadioOptions" id="inlineRadio2" value="option2" type="radio">
                                                        <span class="form-check-label">XXL</span>
                                                    </label>*@
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                                <hr>
                                <a href="~/Contact" class="btn btn-warning"><i class="fa fa-envelope"></i> Liên hệ hỗ trợ</a>
                                <a href="~/Cart/AddToCart/@Model.Id" class="btn btn-success"><i class="fa fa-cart-plus"></i> Đặt hàng ngay</a>
                            </article>
                        </aside>
                    </div>
                </main>
                <article class="card mt-3">
                    <div class="card-body">
                        <h4>Chi tiết sản phẩm</h4>
                        <div class="child-image-responsive">
                            @Html.Raw(Model.DetailOverview)
                        </div>
                    </div>
                </article>
                @*<article class="card mt-3">
                    <div class="card-body">
                        <h4>Bình luận</h4>
                        <div class="child-image-responsive">
                            <div class="fb-comments" data-href="@HttpContext.Current.Request.Url.AbsoluteUri" data-width="100%" data-numposts="5"></div>
                        </div>
                    </div>
                </article>*@

            </div>
            <aside class="col-xl-2 col-md-3 col-sm-12">
                @*<div class="card">
                    <div class="card-header">
                        Thẻ
                    </div>
                    <div class="card-body small">
                        @foreach (var item in productTags) {
                            <a href="~/Tag/@item.Id" class="btn btn-sm btn-success mt-1">@item.Name</a>
                        }
                    </div>
                </div>*@
                <div class="card mt-3">
                    <div class="card-header">
                        Sản phẩm vừa xem
                    </div>
                    <div class="card-body row">
                        @foreach (var item in productViewers.OrderByDescending(x => x.CreatedDate).Take(5)) {
                            <div class="col-md-12 col-sm-3">
                                <figure class="item border-bottom mb-3">
                                    <a href="/Product/Details/@item.Product.Id" class="img-wrap">
                                        <img src="@item.Product.Thumnail" class="img-md">
                                    </a>
                                    <figcaption class="info-wrap" style="overflow: hidden;">
                                        <h6 class="title text-truncate">
                                            <a href="/Product/Details/@item.Product.Id" class="title">@item.Product.Name</a>
                                        </h6>
                                        <div class="price-wrap mb-3">
                                            <span class="price-new">@item.Product.Price.ToString("N0") đ</span>
                                            @*<del class="price-old">$280</del>*@
                                        </div>
                                    </figcaption>
                                </figure>
                            </div>
                        }
                    </div>
                </div>
            </aside>
        </div>
    </div>
</section>

<section class="section-content padding-bottom">
    <div class="container">
        <h4 class="title-text">Có thể bạn sẽ thích</h4>

        <div class="owl-carousel owl-init slide-items" data-items="5" data-margin="20" data-dots="false" data-nav="true">
            @foreach (var item in productCanLikes) {
                <div class="item-slide">
                    <figure class="card card-product">
                        <div class="img-wrap">
                            <img src="@item.Thumnail">
                            <a class="btn-overlay" href="javascript:void(0)" onclick="QuickView('@item.Id')"><i class="fa fa-search-plus"></i> Xem nhanh</a>
                        </div>
                        <figcaption class="info-wrap">
                            <h6 class="title text-truncate"><a href="~/Product/Details/@item.Id" class="text-dark">@item.Name</a></h6>
                            <div class="action-wrap">
                                <a href="javascript:void(0)" class="btn btn-outline-success btn-sm float-right"><i class="fa fa-cart-plus"></i> Mua </a>
                                <div class="price-wrap h6 text-secondary">
                                    <span class="price-new">@item.Price.ToString("N0") đ</span>
                                    @*<del class="price-old">10.000.000 đ</del>*@
                                </div>
                            </div>
                        </figcaption>
                    </figure>
                </div>
            }
        </div>
    </div>
</section>
<section class="section-content bg padding-bottom"></section>
@section styles{
    <link href="~/Assets/plugins/slickslider/slick.css" rel="stylesheet" type="text/css" />
    <link href="~/Assets/plugins/slickslider/slick-theme.css" rel="stylesheet" type="text/css" />
}
@section scripts{
    <script src="~/Assets/plugins/fancybox/fancybox.min.js" type="text/javascript"></script>
    <link href="~/Assets/plugins/fancybox/fancybox.min.css" type="text/css" rel="stylesheet">
    <script src="~/Assets/plugins/slickslider/slick.min.js"></script>
    <script>

    </script>
}